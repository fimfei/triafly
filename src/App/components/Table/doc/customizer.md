# customizer - условное форматирование
Механизм, который позволяет проверять некие условия в данных ячейки таблицы
и в зависимости от результатов проверки добавлять или нет дополнительные css-свойства

## ПРИМЕР

````
customizer: [
    {
        css: {color: blue},
        class: 'is-blue',
        condition: [
            ['value contains Александр', 'value contains Пушкин'],
            ['value contains Владимир', 'value not(contains) Путин'],
        ]
    },
    {
        css: {color: red},
        class: 'is-red',
        condition: [
            ['value match \s\d+\,\d\s'],
        ]
    },
],
````

В этом примере описаны условия:

1) Цвет ячейки сделать синим и присвоить класс "is-blue" если:
- в тексте данных **value** есть слово "Александр" и есть слово "Пушкин" ИЛИ
- в тексте данных **value** есть слово "Владимир" и нет слова "Путин"

2) Цвет ячейки сделать красным и присвоить класс "is-red" если:
- в середине текста данных **value** есть число с одним знаком после запятой


## СТРУКТУРА

Структура описания условного форматирования:

````
customizer: [customizer_1, customizer_2, ...]
````
## customizer_N
**customizer_N** это отдельно взятый набор условий и соответствующие им объекты **css** и **class**:

````
customizer_N: {
    css: {background: '#f00', ...},
    class: 'class-1 class-2 ...'
    condition: [condition_OR_1, condition_OR_2, ...]
}
````
## condition_OR_N
**condition_OR_N** - это любое количество условий, соедяющихся между собой дизьюнкцией

Иными словами описанное классы **class** будут добавлены и правила **css** будут
применены к ячейке, если выполнится хотя-бы одно из
перечисленных условий

В свою очередь **condition_OR_N** имеет следующую структуру:
````
condition_OR_N: [condition_AND_1, condition_AND_2, ...]
````
## condition_AND_N
**condition_AND_N** - это любое количество условий, соедяющихся между собой коньюнкцией

Иными словами условие **condition_OR_N** считается выполненным,
если выполнены все его **condition_AND_N** условия

В свою очередь **condition_OR_N** это просто текстовая строка, которая имеет фиксированный формат:
````
condition_OR_N = "field operand value"
````
Строка разбивается парсером компоненты на три части:
- **field** - текст до первого пробела
- **operand** - текст от первого до второго пробела
- **value** - текст от второго пробела до конца строки (может включать в себя пробелы)

### field
В описании ячейки таблицы (см. **[cell](rows-format.md#cell)**)
могут присутствовать любые данные (поля). Значение поля **field** и есть
имя поля из данных ячейки, которое будет анализироваться

Допустим описание ячейки таково:
````
{
    value: 'текст, выводимый в таблицу',
    summ1: 231,
    summ2: undefinsd,
    summ3: 0,
    comment: 'Какой-то комментарий...',
    isError: 'да',
}
````

### operand
Для проверки условия компонента сравнивает значение поля из данных
ячейки с текстом "**value**". Что именно проверять в данных определяет **operand**

| ОПЕРАНД | ПРОВЕРКА | ПРИМЕР | РЕЗУЛЬТАТ |
|---|---|---|---|
| contains | содержит ли поле текст | "value contains в таблицу" | true |
| == | на равенство | "isError == да" | true |
| != | на неравенство | "isError != да" | false |
| > | сравнение "больше" | "summ1 > 100" | true |
| >= | сравнение "больше или равно" | "summ1 >= 231" | true |
| < | сравнение "меньше" | "summ1 < 100" | false |
| <= | сравнение "меньше или равно" | "summ1 <= 231" | true |
| isUndefined | на ubdefined | "summ2 isUndefined" | true |
| isNumber | на число | "summ3 isNumber" | true |
| isTrue | на TRUE по правилам JS | "summ3 isTrue" | false |
| isFalse | на FALSE по правилам JS | "summ2 isFalse" | true |
| match | тестирование **RegExp**  | "value match ^\S+, \S+" | true |

### value
Как видно из описания операнда, эта часть не обязательна, в зависимости
от операнда она может присутствовать или нет



>
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;\
&emsp;
